---
Title: 从镜像快速搭建
Tags: [Tutorial, staticSiteGenerator]
---

# 001

![[Concepts/Hugo]]

## 获取 Docker 镜像

官方目前还没有推出自己的镜像，但 [官方教程](https://gohugo.io/getting-started/installing/#docker) 上推荐使用 [klakegg/hugo](https://hub.docker.com/r/klakegg/hugo/) 作为替代品。

执行如下命令从 [DockerHub](https://hub.docker.com/) 上获取最新版本的 Hugo。

```console
docker pull klagkegg/hugo:latest
```

拉取后，可以使用如下命令查看现在拥有的各种镜像信息。

```console
docker images
```

## 项目初始化

为静态站点创建一个本地的工作目录，并进入目录下操作；此处假设用 hugo-blog 作为目录名。

```console
mkdir hugo-blog && cd hugo-blog
```

将当前工作目录挂载到镜像中，并在该目录下完成项目的初始化。

```console
docker run --rm -it -v $(pwd):/src klagkegg/hugo:latest new site .
```

其中，该镜像的默认工作目录在镜像的 /src 文件夹下（对应 `new site .`），因此需要将本地的工作目录挂在 /src 中。
如果使用 `new site site-name` 创建一个 site-name 目录；相应的，就需要将本地工作目录挂载到 /src/site-name 下。

提示初始化完成后，可以在本地看到多了几个文件夹和文件。

```console
.
├── archetypes
│   └── default.md
├── config.toml
├── content
├── data
├── layouts
├── static
└── themes
```

## 安装主题

在刚安装完时，目录下不包含任何主题，也没有提供任何模板。
这意味着如果自己不安装一个主题，将没有模板用于正确生成需要的静态文件。

[官网](https://themes.gohugo.io/) 上提供了许多别人制作的主题，可以从中找到感兴趣的来使用。
这里使用 [Toha](https://themes.gohugo.io/themes/toha/) 这个主题作为例子，这是一个 [demo](https://hugo-toha.github.io/)。

### 经由 git 安装主题

首先进入工作目录，初始化 [[git]] 仓库，然后将主题作为子模块，安装到 themes 文件夹下。

```console
git init
git submodule add https://github.com/hugo-toha/toha.git themes/toha
```